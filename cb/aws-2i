Data:
ec2-52-221-227-114.ap-southeast-1.compute.amazonaws.com
52.221.227.114

Index:
ec2-52-221-233-195.ap-southeast-1.compute.amazonaws.com
52.221.233.195

Client/Loadgen:
ec2-52-221-227-110.ap-southeast-1.compute.amazonaws.com
52.221.227.110

Setup:
fab -i ~/.ssh/aws/prataprc-perf.pem -f 2ifab.py -u ubuntu -H 52.221.227.114,52.221.233.195,52.221.227.110 cb_uninstall setup
fab -i ~/.ssh/aws/prataprc-perf.pem -f 2ifab.py -u ubuntu -H 52.221.227.114,52.221.233.195 cb_install:tar="http://ci2i.northscale.in/installer-23.04.2016-05.30.tar"

Cluster_init:
fab -i ~/.ssh/aws/prataprc-perf.pem -f 2ifab.py -u ubuntu -H ec2-52-221-227-114.ap-southeast-1.compute.amazonaws.com cluster_init:services="data",ramsize=6000

Server_add:
fab -i ~/.ssh/aws/prataprc-perf.pem -f 2ifab.py -u ubuntu -H ec2-52-221-233-195.ap-southeast-1.compute.amazonaws.com server_add:cluster=ec2-52-221-227-114.ap-southeast-1.compute.amazonaws.com,services="index"

Pull2i:
fab -i ~/.ssh/aws/prataprc-perf.pem -f 2ifab.py -u ubuntu -H 52.221.227.114,52.221.233.195,52.221.227.110 pull2i:branch=unstable

CreateBucket:
fab -i ~/.ssh/aws/prataprc-perf.pem -f 2ifab.py -u ubuntu -H ec2-52-221-227-114.ap-southeast-1.compute.amazonaws.com create_buckets:buckets="default",ramsize=50000

Settings:
curl -X POST http://Administrator:asdasd@54.179.37.217:9102/settings --data @ ~/tmp/triage/perf-2015Nov4/small-2/settings_memdb


loadgen:
fab -i ~/.ssh/aws/prataprc-perf.pem -f 2ifab.py -u ubuntu -H 52.221.227.114,52.221.233.195,52.221.227.110 loadgen:cluster=52.221.227.114"8091,procs=16,par=20,count=350000,buckets="default",prods="projects.prod",ratio="0;0;0",randkey=False

datapath:
GOMAXPROCS=20 ./datapath -coorendp="" -endpoints <local>:9020 <kv>:8091,<kv>:8091

export GOPATH=/opt/goproj GOROOT=/usr/local/go PATH=/usr/local/go/bin:$PATH
watch -n 1 'curl -s http://Administrator:asdasd@ec2-46-137-193-46.ap-southeast-1.compute.amazonaws.com:9102/stats | json_pp | grep -e "num\|size"'
go tool pprof -inuse_space -svg /opt/couchbase/bin/indexer http://ec2-46-137-193-46.ap-southeast-1.compute.amazonaws.com:9102/debug/pprof/heap > mprofi.svg
go tool pprof -alloc_space -svg /opt/couchbase/bin/indexer http://ec2-46-137-193-46.ap-southeast-1.compute.amazonaws.com:9102/debug/pprof/heap > mprofa.svg
go tool pprof -alloc_objects -svg /opt/couchbase/bin/indexer http://ec2-46-137-193-46.ap-southeast-1.compute.amazonaws.com:9102/debug/pprof/heap > mprofao.svg
go tool pprof -svg /opt/couchbase/bin/indexer http://ec2-46-137-193-46.ap-southeast-1.compute.amazonaws.com:9102/debug/pprof/profile > pprof.svg
